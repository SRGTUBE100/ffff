<!doctype html><html><head><meta charset='utf-8'/><meta name='viewport' content='width=device-width,initial-scale=1' /><title>coinflip — HexaBets</title><script src='https://cdn.tailwindcss.com'></script><script src='/socket.io/socket.io.js'></script></head><body class='bg-[#0b0b12] text-white min-h-screen'><div class='max-w-4xl mx-auto p-6'><a href='/' class='text-sm text-white/70'>← Back</a><h1 class='text-2xl font-bold mt-4'>Coinflip</h1><div id='balance' class='text-sm text-white/70 mt-1'></div><div id='notifications' class='mt-4'></div><div class='mt-6 p-4 bg-white/5 rounded'><label class='block'>Bet <input id='bet' class='p-2 bg-white/10 rounded mt-1' value='10'/></label><label class='block mt-2'>Pick <select id='pick' class='p-2 bg-white/10 rounded mt-1'><option value='heads'>Heads</option><option value='tails'>Tails</option></select></label><div class='flex gap-2 mt-3'><button id='flip' class='px-3 py-2 bg-emerald-600 rounded'>Flip</button></div></div><script>document.getElementById('flip').addEventListener('click', async ()=>{ const bet = Number(document.getElementById('bet').value); const pick = document.getElementById('pick').value; const r = await fetch('/api/coinflip',{method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({bet, pick})}); const j = await r.json(); const el = document.getElementById('notifications'); if(j.error){ el.prepend(Object.assign(document.createElement('div'), {innerText: j.error, className:'p-2 bg-red-600 rounded my-2'}) ); return; } el.prepend(Object.assign(document.createElement('div'), {innerText: `Result ${j.result} — ${j.win ? 'WIN' : 'LOSE'} (payout ${j.payout})`, className:'p-2 bg-white/5 rounded my-2'})); const b = await (await fetch('/api/balance')).json(); document.getElementById('balance').innerText = `User: ${b.user} • Balance: ${b.balance}`; });</script><script>(async function(){ const s=io(); const sess = await (await fetch('/api/session')).json(); document.getElementById('balance').innerText = `User: ${sess.user} • Balance: ${sess.balance}`; s.emit('joinRoom', { user: sess.user }); s.on('notify', n=>{ const el = document.getElementById('notifications'); const d = document.createElement('div'); d.className='p-2 bg-white/5 rounded my-2'; d.innerText = `${n.game}: ${n.text}`; el.prepend(d); }); })();</script></div></body></html>